{"ast":null,"code":"import axios from \"axios\";\nimport { REQUEST_BOOKS, RECEIVE_BOOKS } from \"./actionTypes\";\nexport const requestBooks = query => ({\n  type: REQUEST_BOOKS,\n  query\n});\nexport const receiveBooks = ({\n  status,\n  payload\n}) => ({\n  type: RECEIVE_BOOKS,\n  status,\n  payload\n});\nexport const getBooks = query => {\n  return function (dispatch) {\n    dispatch(requestBooks(query));\n    const url = \"http://localhost:8000/api/search?q=\".concat(query);\n    return axios.get(url).then(response => {\n      dispatch(receiveBooks({\n        status: \"success\",\n        payload: response.results\n      }));\n    }).catch(error => {\n      dispatch(receiveBooks({\n        status: \"error\",\n        payload: error\n      }));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/tanghuayi/Downloads/bookfinder-app 2/src/screens/home/actions.js"],"names":["axios","REQUEST_BOOKS","RECEIVE_BOOKS","requestBooks","query","type","receiveBooks","status","payload","getBooks","dispatch","url","get","then","response","results","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,eAA7C;AAEA,OAAO,MAAMC,YAAY,GAAIC,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAEJ,aADiC;AAEvCG,EAAAA;AAFuC,CAAZ,CAArB;AAKP,OAAO,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,MAA0B;AACrDH,EAAAA,IAAI,EAAEH,aAD+C;AAErDK,EAAAA,MAFqD;AAGrDC,EAAAA;AAHqD,CAA1B,CAArB;AAMP,OAAO,MAAMC,QAAQ,GAAIL,KAAD,IAAW;AAClC,SAAO,UAAUM,QAAV,EAAoB;AAC1BA,IAAAA,QAAQ,CAACP,YAAY,CAACC,KAAD,CAAb,CAAR;AACA,UAAMO,GAAG,gDAAyCP,KAAzC,CAAT;AAEA,WAAOJ,KAAK,CACVY,GADK,CACDD,GADC,EAELE,IAFK,CAECC,QAAD,IAAc;AACnBJ,MAAAA,QAAQ,CACPJ,YAAY,CAAC;AACZC,QAAAA,MAAM,EAAE,SADI;AAEZC,QAAAA,OAAO,EAAEM,QAAQ,CAACC;AAFN,OAAD,CADL,CAAR;AAMA,KATK,EAULC,KAVK,CAUEC,KAAD,IAAW;AACjBP,MAAAA,QAAQ,CACPJ,YAAY,CAAC;AACZC,QAAAA,MAAM,EAAE,OADI;AAEZC,QAAAA,OAAO,EAAES;AAFG,OAAD,CADL,CAAR;AAMA,KAjBK,CAAP;AAkBA,GAtBD;AAuBA,CAxBM","sourcesContent":["import axios from \"axios\";\nimport { REQUEST_BOOKS, RECEIVE_BOOKS } from \"./actionTypes\";\n\nexport const requestBooks = (query) => ({\n\ttype: REQUEST_BOOKS,\n\tquery,\n});\n\nexport const receiveBooks = ({ status, payload }) => ({\n\ttype: RECEIVE_BOOKS,\n\tstatus,\n\tpayload,\n});\n\nexport const getBooks = (query) => {\n\treturn function (dispatch) {\n\t\tdispatch(requestBooks(query));\n\t\tconst url = `http://localhost:8000/api/search?q=${query}`;\n\n\t\treturn axios\n\t\t\t.get(url)\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(\n\t\t\t\t\treceiveBooks({\n\t\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\t\tpayload: response.results,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(\n\t\t\t\t\treceiveBooks({\n\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t\tpayload: error,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}