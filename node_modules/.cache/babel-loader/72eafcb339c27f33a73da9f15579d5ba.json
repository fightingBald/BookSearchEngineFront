{"ast":null,"code":"import _slicedToArray from \"/Users/tanghuayi/Downloads/bookfinder-app 2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tanghuayi/Downloads/bookfinder-app 2/src/screens/book/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport isEmpty from 'lodash/isEmpty';\nimport './book.css';\nimport Spinner from 'react-bootstrap/Spinner';\n\nconst createMarkup = markup => ({\n  __html: markup\n});\n\nconst Book = ({\n  match: {\n    params\n  }\n}) => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        bookInfo = _useState2[0],\n        setBookInfo = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isFetching = _useState4[0],\n        setIsFetching = _useState4[1];\n\n  useEffect(() => {\n    setIsFetching(true);\n    axios.get(\"https://www.googleapis.com/books/v1/volumes/\".concat(params.ID)).then(response => {\n      setBookInfo(response.data);\n    }).catch(() => {\n      setBookInfo({});\n    }).finally(() => {\n      setIsFetching(false);\n    });\n  }, [params.ID]);\n  let jsxStr = '';\n\n  if (isFetching) {\n    jsxStr = React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      animation: \"border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }\n\n  if (!isEmpty(bookInfo)) {\n    let _bookInfo$volumeInfo = bookInfo.volumeInfo,\n        title = _bookInfo$volumeInfo.title,\n        subtitle = _bookInfo$volumeInfo.subtitle,\n        imageLinks = _bookInfo$volumeInfo.imageLinks,\n        description = _bookInfo$volumeInfo.description;\n    jsxStr = React.createElement(\"div\", {\n      className: \"book-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, title), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, subtitle), React.createElement(\"div\", {\n      className: \"book-card--body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      className: \"book-card--thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, imageLinks ? React.createElement(\"img\", {\n      src: imageLinks.thumbnail,\n      className: \"img-responsive\",\n      alt: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }) : null), React.createElement(\"p\", {\n      className: \"book-card--description\",\n      dangerouslySetInnerHTML: createMarkup(description),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })));\n  }\n\n  return React.createElement(\"div\", {\n    id: \"book\",\n    className: \"page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, jsxStr));\n};\n\nexport default Book;","map":{"version":3,"sources":["/Users/tanghuayi/Downloads/bookfinder-app 2/src/screens/book/index.js"],"names":["React","useState","useEffect","axios","isEmpty","Spinner","createMarkup","markup","__html","Book","match","params","bookInfo","setBookInfo","isFetching","setIsFetching","get","ID","then","response","data","catch","finally","jsxStr","display","justifyContent","alignItems","height","volumeInfo","title","subtitle","imageLinks","description","thumbnail"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport isEmpty from 'lodash/isEmpty'\nimport './book.css'\nimport Spinner from 'react-bootstrap/Spinner';\n\n\nconst createMarkup = (markup) => ({__html: markup});\n\nconst Book = ({ match: { params } }) => {\n\n  const [bookInfo, setBookInfo] = useState({});\n  const [isFetching, setIsFetching] = useState(false);\n  useEffect(() => {\n    setIsFetching(true)\n    axios.get(`https://www.googleapis.com/books/v1/volumes/${params.ID}`)\n    .then(response => {\n      setBookInfo(response.data);\n    })\n    .catch(() => {\n      setBookInfo({});\n    })\n    .finally(() => {\n      setIsFetching(false)\n    })\n\n  }, [params.ID]);\n\n  let jsxStr = ''\n  if (isFetching) {\n    jsxStr = (\n      <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 50,\n      }}\n      >\n        <Spinner animation=\"border\" />\n      </div>\n\n    )\n  }\n\n  if (!isEmpty(bookInfo)) {\n    let {\n      title,\n      subtitle,\n      imageLinks,\n      description\n    } = bookInfo.volumeInfo;\n\n    jsxStr = (\n      <div className=\"book-card\">\n        <h1>{title}</h1>\n        <h3>{subtitle}</h3>\n        <div className=\"book-card--body\">\n          <figure className=\"book-card--thumbnail\">\n            {imageLinks\n              ? <img\n                src={imageLinks.thumbnail}\n                className=\"img-responsive\"\n                alt={title}\n                />\n              : null\n            }\n          </figure>\n          <p className=\"book-card--description\" dangerouslySetInnerHTML={createMarkup(description)} />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div id=\"book\" className=\"page\">\n      <div className=\"container\">\n        {jsxStr}\n      </div>\n    </div>\n  )\n}\nexport default Book;"]},"metadata":{},"sourceType":"module"}